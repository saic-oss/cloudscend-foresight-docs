<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-foresight-install-ECS">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Installing CloudScend Foresight to AWS ECS | CloudScend Foresight by SAIC</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://saic-oss.github.io/cloudscend-foresight-docs/docs/foresight-install-ECS"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Installing CloudScend Foresight to AWS ECS | CloudScend Foresight by SAIC"><meta data-rh="true" name="description" content="Assumptions for AWS ECS Installation"><meta data-rh="true" property="og:description" content="Assumptions for AWS ECS Installation"><link data-rh="true" rel="icon" href="/cloudscend-foresight-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://saic-oss.github.io/cloudscend-foresight-docs/docs/foresight-install-ECS"><link data-rh="true" rel="alternate" href="https://saic-oss.github.io/cloudscend-foresight-docs/docs/foresight-install-ECS" hreflang="en"><link data-rh="true" rel="alternate" href="https://saic-oss.github.io/cloudscend-foresight-docs/docs/foresight-install-ECS" hreflang="x-default"><link rel="stylesheet" href="/cloudscend-foresight-docs/assets/css/styles.fd24f9be.css">
<link rel="preload" href="/cloudscend-foresight-docs/assets/js/runtime~main.680063e1.js" as="script">
<link rel="preload" href="/cloudscend-foresight-docs/assets/js/main.4896cbf0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloudscend-foresight-docs/"><div class="navbar__logo"><img src="/cloudscend-foresight-docs/img/CloudScendForesight.png" alt="SAIC Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cloudscend-foresight-docs/img/CloudScendForesight.png" alt="SAIC Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"> </b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloudscend-foresight-docs/docs/foresight-cloud-app-mod-overview">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Installing CloudScend Foresight to AWS ECS</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assumptions-for-aws-ecs-installation">Assumptions for AWS ECS Installation<a class="hash-link" href="#assumptions-for-aws-ecs-installation" title="Direct link to heading">​</a></h2><ul><li><p>You are familiar with AWS ECS Environments</p></li><li><p>Access to functional AWS ECS Environment</p></li><li><p>Technical Knowledge of the following</p><ul><li>Docker</li><li>Docker Compose</li><li>AWS</li><li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html" target="_blank" rel="noopener noreferrer">AWS CLI Version 2</a></li><li>Optionally, <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html" target="_blank" rel="noopener noreferrer">ECS-CLI</a></li></ul></li><li><p>SSL Instructions have been completed <strong><em>NEED INPUT FROM TEAM ON THIS</em></strong></p></li><li><p><strong>NEED INPUT FROM TEAM</strong></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-requirements-for-aws-ecs-installation">Technical Requirements for AWS ECS Installation<a class="hash-link" href="#technical-requirements-for-aws-ecs-installation" title="Direct link to heading">​</a></h2><p>Before performing your ECS CloudScend Foresight installation, ensure your environment is set with the following:</p><ul><li>AWS ECS Environment</li><li>EC2 instance</li><li>Amazon Virtual Private Cloud (VPC)</li><li>Elastic Load Balancing (ELB)</li><li>Amazon CloudWatch</li><li>Amazon Elastic File System (EFS)</li><li>Security Groups for you VPC</li><li>AWS Systems Manager Agent (SSM)</li><li>AWS Secrets Manager</li><li>You must download and install an instance of <a href="https://www.sonarqube.org/downloads/" target="_blank" rel="noopener noreferrer">SonarQube</a>. You may download either a Community, Developer or Enterprise Edition.</li><li>If any of your source code is written in ColdFusion, you must also download and install <a href="https://github.com/stepstone-tech/sonar-coldfusion/releases/tag/2.0.0" target="_blank" rel="noopener noreferrer">CFLint</a>.</li><li><strong>Explain different plugins for different versions of SonarQube (like CFLint, TypeScript, Java, etc)</strong></li><li><strong>NEED INPUT FROM TEAM</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="steps-for-configuring-and-installing-cloudscend-foresight-in-aws-ecs-environment">Steps for Configuring and Installing CloudScend Foresight in AWS ECS Environment<a class="hash-link" href="#steps-for-configuring-and-installing-cloudscend-foresight-in-aws-ecs-environment" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-configuration-steps">General configuration steps<a class="hash-link" href="#general-configuration-steps" title="Direct link to heading">​</a></h3><p><strong>Environment Variables ???? (perhaps this should be somewhere else or isn&#x27;t valid)</strong>
<strong>ANY OTHER GENERAL CONFIGURATIONS???</strong></p><p>Before installing CloudScend Foresight, you must ensure your AWS Environment is setup correctly for an ECS Cluster. Below is an overview of the services required by the ECS cluster.</p><p><img loading="lazy" alt="ECS Cluster" src="/cloudscend-foresight-docs/assets/images/ECS-cd03a71aa24fcced1b7e78eee778e5aa.png" width="997" height="1075" class="img_ev3q"></p><ol><li>Create a VPC with preferably two public and two private subnets:</li></ol><ul><li>Example:<ul><li>192.168.0.0/24 VPC</li><li>192.168.0.64/26 Public Subnet-1</li><li>192.168.0.128/26 Public Subnet-2</li><li>192.168.0.192/27 Private Subnet-1</li><li>192.168.0.192/27 Private Subnet-2</li></ul></li></ul><ol start="2"><li><p>Create an ECS cluster preferably EC2 Linux + Networking (both EC2 and Fargate capable services are compatible with this setup). Utilize the VPC previously created during ECS setup.</p></li><li><p>Choose Amazon ECS-optimized Amazon Linux 2 AMI ami-0583ca2f3ce809fcb and create at least 2 instances with specifications such as:</p></li></ol><ul><li>t2.2xlarge</li><li>60 GiB</li><li>ecsInstanceRole IAM role</li><li>Enable CloudWatch logs</li></ul><p>Tasks and services that use the awsvpc network mode require the Amazon ECS service-linked role to provide Amazon ECS with the permissions to make calls to other AWS services on your behalf. This role is created for you automatically when you create a cluster.</p><ol start="4"><li><p>Create the proper Security Groups to be used by the ECS cluster EC2 instances and ELB.</p></li><li><p>Create Application Load Balancer (ELB) and register the ECS Instances as ELB Targets. Ensure to set the targets to IP and not Instance. This is because tasks that use the awsvpc network mode are associated with an ENI, not with an Amazon EC2 instance.</p></li><li><p>Ensure the Internet Gateway of the ECS VPC is properly configured to the Route Table.</p></li></ol><p>ECS has integration with Elastic Load Balancing (Application Load Balancers) through the Service feature, where tasks will be automatically registered in the ELB and deregistered in the ELB appropriately.</p><ol start="7"><li><p>Create a EC2 instance to administer and manage the ECS cluster</p></li><li><p>Configure AWS CLI on a management Linux instance</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@ip-172-00-00-111 docker-compose]# aws configure</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AWS Access Key ID [****************RI7S]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AWS Secret Access Key [****************zAUX]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Default region name [us-east-2]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Default output format [json]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additional information on installing AWS CLI is available at <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html#cliv2-linux-install" target="_blank" rel="noopener noreferrer">AWS Amazon</a>.</p><ol start="9"><li>Navigate to the code repository to obtain the json files which are the ECS task definitions. Each application service has a json for EC2 and Fargate deployment respectively.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-your-ecs-cluster-and-install-cloudscend-foresight">Configure your ECS Cluster and Install CloudScend Foresight<a class="hash-link" href="#configure-your-ecs-cluster-and-install-cloudscend-foresight" title="Direct link to heading">​</a></h3><ol><li><p>Obtain your deployment code repository from the <!-- -->[CloudScend Foresight ECS Deployment location]<!-- -->(PUT A LINK IN HERE?).</p></li><li><p>Deployment order of CloudScend Foresight containers:</p><ul><li>Commondata Database</li><li>Commondata Backend</li><li>Metabase DB</li><li>Metabase Backend</li><li>Sage DB</li><li>Sage Backend</li><li>Sage Frontend</li><li>Keycloak Database</li><li>Keycloak</li><li>Highlight Agent</li><li>Reports Service</li><li>Uploader</li><li>Elasticsearch</li><li>Fluentd</li><li>Kibana</li><li>Gitlab</li><li>Sonarqube</li></ul></li><li><p>Create the ECS Task definitions based on your ECS type and CloudScend Foresight deployment order.</p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>ECS may be deployed with two different ECS types:</p><ul><li>EC2 – cluster based on server instances</li><li>Fargate – serverless compute for containers
The main differences with Fargate and EC2 Task Definitions is that volumes need to be mounted to Fargate Task Definitions from sourceVolume, to provide nonpersistent empty storage for containers in a Fargate task.
It is the decision of your administrator as to which you deploy.</li></ul></div></div><ul><li>Regardless of your ECS type, you will need to create a task definitions for each CloudScend Foresight json file.</li><li>Use awsvpc networking mode<ul><li>Your containers in the task will share an ENI using a common network stack. Port mappings can only specify container ports (any existing host port specifications will be removed).</li></ul></li></ul><p>For example, the following describe and register statements create task definitions for the commondata-db container:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  aws ecs describe-task-definition --task-definition commondata-db-ec2:4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  aws ecs register-task-definition --cli-input-json file://commondata-db-ec2.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Create ECS Services</li></ol><ul><li><p>If your administrator has chosen the Fargate service, then create ECS Fargate Services</p><ul><li>To create a service with Fargate, run similar AWS CLI command below for each ECS Task Definition previously created. Below is an example using the commondata-db container. Ensure you use the correct network and cluster values for your environment.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> /usr/local/bin/aws ecs create-service --cluster default-ecs-ec2 --service-name commondata-db --task-definition commondata-db-ec2:5 --desired-count 2 --launch-type FARGATE --platform-version LATEST --network-configuration &quot;awsvpcConfiguration={subnets=[subnet-xxxxxx5b024557fe5],securityGroups=[ sg-0035ba27e231xxxxxx],assignPublicIp=DISABLED}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>It’s recommended to run Elasticsearch on Fargate due to recent compatibility contingencies.</p><ul><li>To fix paging issue on Elasticsearch EC2 attempt to add this command to the instances: <strong>THIS SAYS EC2 BUT DEALING WITH FARGATE</strong></li><li>sudo sysctl -w vm.max_map_count=262144</li><li>sudo sysctl -w fs.file-max=65536
:::</li></ul></div></div></li></ul><p>Below find an example of a successful output when task definition is properly registered using FARGATE:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;taskDefinition&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;status&quot;: &quot;ACTIVE&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;memory&quot;: &quot;1024&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;networkMode&quot;: &quot;awsvpc&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;family&quot;: &quot;sage-frontend&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;placementConstraints&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;requiresAttributes&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.ecr-auth&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.task-iam-role&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;ecs.capability.execution-role-ecr-pull&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.docker-remote-api.1.18&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;ecs.capability.task-eni&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;cpu&quot;: &quot;512&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;executionRoleArn&quot;: &quot;arn:aws:iam::358354085340:role/ecsTaskExecutionRole&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;compatibilities&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;FARGATE&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;volumes&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;requiresCompatibilities&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;FARGATE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;taskRoleArn&quot;: &quot;arn:aws:iam::358354085340:role/ecsTaskExecutionRole&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;taskDefinitionArn&quot;: &quot;arn:aws:ecs:us-east-2:358333225340:task-definition/sage-frontend:1&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;containerDefinitions&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;environment&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;name&quot;: &quot;sage-frontend&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;mountPoints&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;image&quot;: &quot;358354085340.dkr.ecr.us-east-2.amazonaws.com/ecstestecr:sage-frontend&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;cpu&quot;: 512,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;portMappings&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;protocol&quot;: &quot;tcp&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;containerPort&quot;: 80,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;hostPort&quot;: 80</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;memory&quot;: 1024,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;essential&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;volumesFrom&quot;: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;revision&quot;: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>If your administrator has chosen the EC2 service, then create ECS EC2 Services</p><ul><li>To create a service with ECS EC2, run simialiar AWS CLI command for each Task Definition previously created. Below is an example using the commondata container. Ensure you use the correct network and cluster values for your environment.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/local/bin/aws ecs create-service --cluster default-ecs-ec2 --service-name commondata --task-definition commondata-ec2:7 --desired-count 2 --launch-type EC2 --network-configuration &quot;awsvpcConfiguration={subnets=[subnet-xxxxxx5b024557fe5],securityGroups=[ sg-0035ba27e231xxxxxx],assignPublicIp=DISABLED}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><strong>IS THIS NECESSARY</strong>
It’s recommended to run GitLab on EC2 due to recent compatability contingencies.</p></div></div><p>Below you will find an example of a successful output when the Sage-Frontend EC2 Task Definition is properly registered</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;service&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;status&quot;: &quot;ACTIVE&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;serviceRegistries&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;pendingCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;launchType&quot;: &quot;EC2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;enableECSManagedTags&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;schedulingStrategy&quot;: &quot;REPLICA&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;loadBalancers&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;placementConstraints&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;createdAt&quot;: 1607397320.811,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;desiredCount&quot;: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;serviceName&quot;: &quot;sage-frontend&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;clusterArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:cluster/dev-ec2-ecs&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;createdBy&quot;: &quot;arn:aws:iam::358354085340:user/michael.a.schlosser@saic.com&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/sage-frontend-ec2:1&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;serviceArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:service/dev-ec2-ecs/sage-frontend&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;propagateTags&quot;: &quot;NONE&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;deploymentConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;maximumPercent&quot;: 200,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;minimumHealthyPercent&quot;: 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;deployments&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;status&quot;: &quot;PRIMARY&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;pendingCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;launchType&quot;: &quot;EC2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;createdAt&quot;: 1607397320.811,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;desiredCount&quot;: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/sage-frontend-ec2:1&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;updatedAt&quot;: 1607397320.811,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;id&quot;: &quot;ecs-svc/8272762167026254857&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;runningCount&quot;: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;events&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;runningCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;placementStrategy&quot;: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>IS THERE A STATEMENT OR STEP NEEDED FOR DEPLOYING? WE HAVE THE OUTPUT OF DEPLOYMENT BUT WHAT DEPLOYS IT</strong></p><p>Below you will find an example of a successful output when ECS Service is properly deployed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;service&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;serviceArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:service/default-ecs-ec2/commondata&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;serviceName&quot;: &quot;commondata&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;clusterArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:cluster/default-ecs-ec2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;loadBalancers&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;serviceRegistries&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;status&quot;: &quot;ACTIVE&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;desiredCount&quot;: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;runningCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;pendingCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;launchType&quot;: &quot;EC2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/test-commondata-ec2:7&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;deploymentConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;deploymentCircuitBreaker&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;enable&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;rollback&quot;: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;maximumPercent&quot;: 200,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;minimumHealthyPercent&quot;: 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;deployments&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;id&quot;: &quot;ecs-svc/1675382415882992629&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;status&quot;: &quot;PRIMARY&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/test-commondata-ec2:7&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;desiredCount&quot;: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;pendingCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;runningCount&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;failedTasks&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;createdAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;updatedAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;launchType&quot;: &quot;EC2&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;networkConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;awsvpcConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;subnets&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            &quot;subnet-05e5075b024557fe5&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;securityGroups&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            &quot;sg-0035ba27e231bd006&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &quot;assignPublicIp&quot;: &quot;DISABLED&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;rolloutState&quot;: &quot;IN_PROGRESS&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;rolloutStateReason&quot;: &quot;ECS deployment ecs-svc/1675382415882992629 in progress.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;roleArn&quot;: &quot;arn:aws:iam::358354085340:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;events&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;createdAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;placementConstraints&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;placementStrategy&quot;: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;networkConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;awsvpcConfiguration&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;subnets&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;subnet-05e5075b024557fe5&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;securityGroups&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;sg-0035ba27e231bd006&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;assignPublicIp&quot;: &quot;DISABLED&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;schedulingStrategy&quot;: &quot;REPLICA&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;createdBy&quot;: &quot;arn:aws:iam::358354085340:user/michael.a.schlosser@saic.com&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;enableECSManagedTags&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;propagateTags&quot;: &quot;NONE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="managing-sensitive-environment-variables">Managing Sensitive Environment Variables<a class="hash-link" href="#managing-sensitive-environment-variables" title="Direct link to heading">​</a></h3><p><strong>NEED SOME WORDS ABOUT WHAT THIS IS AND WHAT IT&#x27;S DOING. SEEMS LIKE THERE SHOULD BE MORE INFO HERE</strong></p><ol><li>Use System Manager and perform the following:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;containerDefinitions&quot;: [{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;secrets&quot;: [{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;environment_variable_name&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;valueFrom&quot;: &quot;arn:aws:ssm:region:aws_account_id:parameter/parameter_name&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you need assistance with sensitve data parameters refer to this <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-parameters.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a>. 2. Use Secrets Manager and perform the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;containerDefinitions&quot;: [{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;secrets&quot;: [{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;environment_variable_name&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;valueFrom&quot;: &quot;arn:aws:secretsmanager:region:aws_account_id:secret:secret_name-AbCdEf&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you need assistance with sensitive data secrets, refer to this <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html" target="_blank" rel="noopener noreferrer">AWS Documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-and-support">Troubleshooting and Support<a class="hash-link" href="#troubleshooting-and-support" title="Direct link to heading">​</a></h2><p>If you experience issues with your installation or need support with your CloudScend Foresight installation, please refer to the <a href="/cloudscend-foresight-docs/docs/foresight-ops-diagnostic">CloudScend Foresight Operations Guide</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#assumptions-for-aws-ecs-installation" class="table-of-contents__link toc-highlight">Assumptions for AWS ECS Installation</a></li><li><a href="#technical-requirements-for-aws-ecs-installation" class="table-of-contents__link toc-highlight">Technical Requirements for AWS ECS Installation</a></li><li><a href="#steps-for-configuring-and-installing-cloudscend-foresight-in-aws-ecs-environment" class="table-of-contents__link toc-highlight">Steps for Configuring and Installing CloudScend Foresight in AWS ECS Environment</a><ul><li><a href="#general-configuration-steps" class="table-of-contents__link toc-highlight">General configuration steps</a></li><li><a href="#configure-your-ecs-cluster-and-install-cloudscend-foresight" class="table-of-contents__link toc-highlight">Configure your ECS Cluster and Install CloudScend Foresight</a></li><li><a href="#managing-sensitive-environment-variables" class="table-of-contents__link toc-highlight">Managing Sensitive Environment Variables</a></li></ul></li><li><a href="#troubleshooting-and-support" class="table-of-contents__link toc-highlight">Troubleshooting and Support</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloudscend-foresight-docs/docs/foresight-cloud-app-mod-overview">CloudScend Foresight Users Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/cloudscend-foresight-docs/docs/foresight-install-intro/">CloudScend Foresight Installation Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/cloudscend-foresight-docs/docs/foresight-ops-overview/">CloudScend Foresight Operations Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloudscend-foresight-docs/docs/foresight-faqs/">FAQs</a></li><li class="footer__item"><a href="https://github.com/saic-oss/cloudscend-foresight-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://saic.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/cloudscend-foresight-docs/img/SAIC_logo_white_sm.png" alt="CloudScend Foresight is powered by SAIC" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/cloudscend-foresight-docs/img/SAIC_logo_white_sm.png" alt="CloudScend Foresight is powered by SAIC" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">© 2021 SAIC - CloudScend Foresight is powered by SAIC</div></div></div></footer></div>
<script src="/cloudscend-foresight-docs/assets/js/runtime~main.680063e1.js"></script>
<script src="/cloudscend-foresight-docs/assets/js/main.4896cbf0.js"></script>
</body>
</html>