<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<title data-react-helmet="true">Installing CloudScend Foresight to AWS ECS | CloudScend Foresight by SAIC</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installing CloudScend Foresight to AWS ECS | CloudScend Foresight by SAIC"><meta data-react-helmet="true" name="description" content="Installing CloudScend Foresight to AWS ECS"><meta data-react-helmet="true" property="og:description" content="Installing CloudScend Foresight to AWS ECS"><meta data-react-helmet="true" property="og:url" content="https://saic-oss.github.io/sage-docs/docs/sage-install-ECS"><link data-react-helmet="true" rel="shortcut icon" href="/sage-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://saic-oss.github.io/sage-docs/docs/sage-install-ECS"><link rel="stylesheet" href="/sage-docs/styles.8f55c834.css">
<link rel="preload" href="/sage-docs/styles.fba79791.js" as="script">
<link rel="preload" href="/sage-docs/runtime~main.58d835ba.js" as="script">
<link rel="preload" href="/sage-docs/main.12c686ef.js" as="script">
<link rel="preload" href="/sage-docs/1.31ee3faf.js" as="script">
<link rel="preload" href="/sage-docs/36.45e029ce.js" as="script">
<link rel="preload" href="/sage-docs/37.9373f5ec.js" as="script">
<link rel="preload" href="/sage-docs/935f2afb.d98e3573.js" as="script">
<link rel="preload" href="/sage-docs/35.e14f1837.js" as="script">
<link rel="preload" href="/sage-docs/bf67934f.365c66fc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/sage-docs/"><img src="/sage-docs/img/SAIC_RI_logo_R_RGB_sm.png" alt="SAIC Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/sage-docs/img/SAIC_RI_logo_R_RGB_sm.png" alt="SAIC Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title"> </strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sage-docs/docs/sage-intro">Documentation ðŸš§</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/sage-docs/"><img src="/sage-docs/img/SAIC_RI_logo_R_RGB_sm.png" alt="SAIC Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/sage-docs/img/SAIC_RI_logo_R_RGB_sm.png" alt="SAIC Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title"> </strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/sage-docs/docs/sage-intro">Documentation ðŸš§</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div class="markdown"><h1 id="installing-cloudscend-foresight-to-aws-ecs">Installing CloudScend Foresight to AWS ECS</h1><h2 id="assumptions-for-aws-ecs-installation">Assumptions for AWS ECS Installation</h2><ul><li><p>You are familiar with AWS ECS Environments</p></li><li><p>Access to functional AWS ECS Environment</p></li><li><p>Technical Knowledge of the following</p><ul><li>Docker</li><li>Docker Compose</li><li>AWS</li><li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html">AWS CLI Version 2</a></li><li>Optionally, <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html">ECS-CLI</a></li></ul></li><li><p>SSL Instructions have been completed <strong><em>NEED INPUT FROM TEAM ON THIS</em></strong></p></li><li><p><strong>NEED INPUT FROM TEAM</strong></p></li></ul><h2 id="technical-requirements-for-aws-ecs-installation">Technical Requirements for AWS ECS Installation</h2><p>Before performing your ECS CloudScend Foresight installation, ensure your environment is set with the following:</p><ul><li>AWS ECS Environment</li><li>EC2 instance</li><li>Amazon Virtual Private Cloud (VPC)</li><li>Elastic Load Balancing (ELB)</li><li>Amazon CloudWatch</li><li>Amazon Elastic File System (EFS)</li><li>Security Groups for you VPC</li><li>AWS Systems Manager Agent (SSM)</li><li>AWS Secrets Manager</li><li>You must download and install an instance of <a href="https://www.sonarqube.org/downloads/">SonarQube</a>. You may download either a Community, Developer or Enterprise Edition.</li><li>If any of your source code is written in ColdFusion, you must also download and install <a href="https://github.com/stepstone-tech/sonar-coldfusion/releases/tag/2.0.0">CFLint</a>.</li><li><strong>Explain different plugins for different versions of SonarQube (like CFLint, TypeScript, Java, etc)</strong></li><li><strong>NEED INPUT FROM TEAM</strong></li></ul><h2 id="steps-for-configuring-and-installing-cloudscend-foresight-in-aws-ecs-environment">Steps for Configuring and Installing CloudScend Foresight in AWS ECS Environment</h2><h3 id="general-configuration-steps">General configuration steps</h3><p><strong>Environment Variables ???? (perhaps this should be somewhere else or isn&#x27;t valid)</strong>
<strong>ANY OTHER GENERAL CONFIGURATIONS???</strong></p><p>Before installing CloudScend Foresight, you must ensure your AWS Environment is setup correctly for an ECS Cluster. Below is an overview of the services required by the ECS cluster.</p><p><img alt="ECS Cluster" src="/sage-docs/assets/images/ECS-cd03a71aa24fcced1b7e78eee778e5aa.png"></p><ol><li>Create a VPC with preferably two public and two private subnets:</li></ol><ul><li>Example:<ul><li>192.168.0.0/24 VPC</li><li>192.168.0.64/26 Public Subnet-1</li><li>192.168.0.128/26 Public Subnet-2</li><li>192.168.0.192/27 Private Subnet-1</li><li>192.168.0.192/27 Private Subnet-2</li></ul></li></ul><ol start="2"><li><p>Create an ECS cluster preferably EC2 Linux + Networking (both EC2 and Fargate capable services are compatible with this setup). Utilize the VPC previously created during ECS setup.</p></li><li><p>Choose Amazon ECS-optimized Amazon Linux 2 AMI ami-0583ca2f3ce809fcb and create at least 2 instances with specifications such as:</p></li></ol><ul><li>t2.2xlarge</li><li>60 GiB</li><li>ecsInstanceRole IAM role</li><li>Enable CloudWatch logs</li></ul><p>Tasks and services that use the awsvpc network mode require the Amazon ECS service-linked role to provide Amazon ECS with the permissions to make calls to other AWS services on your behalf. This role is created for you automatically when you create a cluster.</p><ol start="4"><li><p>Create the proper Security Groups to be used by the ECS cluster EC2 instances and ELB.</p></li><li><p>Create Application Load Balancer (ELB) and register the ECS Instances as ELB Targets. Ensure to set the targets to IP and not Instance. This is because tasks that use the awsvpc network mode are associated with an ENI, not with an Amazon EC2 instance.</p></li><li><p>Ensure the Internet Gateway of the ECS VPC is properly configured to the Route Table.</p></li></ol><p>ECS has integration with Elastic Load Balancing (Application Load Balancers) through the Service feature, where tasks will be automatically registered in the ELB and deregistered in the ELB appropriately.</p><ol start="7"><li><p>Create a EC2 instance to administer and manage the ECS cluster</p></li><li><p>Configure AWS CLI on a management Linux instance</p></li></ol><pre><code>[root@ip-172-00-00-111 docker-compose]# aws configure
AWS Access Key ID [****************RI7S]:
AWS Secret Access Key [****************zAUX]:
Default region name [us-east-2]:
Default output format [json]:

</code></pre><p>Additional information on installing AWS CLI is available at <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html#cliv2-linux-install">AWS Amazon</a>.</p><ol start="9"><li>Navigate to the code repository to obtain the json files which are the ECS task definitions. Each application service has a json for EC2 and Fargate deployment respectively.</li></ol><h3 id="configure-your-ecs-cluster-and-install-cloudscend-foresight">Configure your ECS Cluster and Install CloudScend Foresight</h3><ol><li><p>Obtain your deployment code repository from the [CloudScend Foresight ECS Deployment location](PUT A LINK IN HERE?).</p></li><li><p>Deployment order of CloudScend Foresight containers:</p><ul><li>Commondata Database</li><li>Commondata Backend</li><li>Metabase DB</li><li>Metabase Backend</li><li>Sage DB</li><li>Sage Backend</li><li>Sage Frontend</li><li>Keycloak Database</li><li>Keycloak</li><li>Highlight Agent</li><li>Reports Service</li><li>Uploader</li><li>Elasticsearch</li><li>Fluentd</li><li>Kibana</li><li>Gitlab</li><li>Sonarqube</li></ul></li><li><p>Create the ECS Task definitions based on your ECS type and CloudScend Foresight deployment order.</p></li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>ECS may be deployed with two different ECS types:</p><ul><li>EC2 â€“ cluster based on server instances</li><li>Fargate â€“ serverless compute for containers
The main differences with Fargate and EC2 Task Definitions is that volumes need to be mounted to Fargate Task Definitions from sourceVolume, to provide nonpersistent empty storage for containers in a Fargate task.
It is the decision of your administrator as to which you deploy.</li></ul></div></div><ul><li>Regardless of your ECS type, you will need to create a task definitions for each CloudScend Foresight json file.</li><li>Use awsvpc networking mode<ul><li>Your containers in the task will share an ENI using a common network stack. Port mappings can only specify container ports (any existing host port specifications will be removed).</li></ul></li></ul><p>For example, the following describe and register statements create task definitions for the commondata-db container:</p><pre><code>  aws ecs describe-task-definition --task-definition commondata-db-ec2:4
  aws ecs register-task-definition --cli-input-json file://commondata-db-ec2.json

</code></pre><ol start="4"><li>Create ECS Services</li></ol><ul><li><p>If your administrator has chosen the Fargate service, then create ECS Fargate Services</p><ul><li>To create a service with Fargate, run similar AWS CLI command below for each ECS Task Definition previously created. Below is an example using the commondata-db container. Ensure you use the correct network and cluster values for your environment.</li></ul><pre><code> /usr/local/bin/aws ecs create-service --cluster default-ecs-ec2 --service-name commondata-db --task-definition commondata-db-ec2:5 --desired-count 2 --launch-type FARGATE --platform-version LATEST --network-configuration &quot;awsvpcConfiguration={subnets=[subnet-xxxxxx5b024557fe5],securityGroups=[ sg-0035ba27e231xxxxxx],assignPublicIp=DISABLED}&quot;
</code></pre><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Itâ€™s recommended to run Elasticsearch on Fargate due to recent compatibility contingencies.</p><ul><li>To fix paging issue on Elasticsearch EC2 attempt to add this command to the instances: <strong>THIS SAYS EC2 BUT DEALING WITH FARGATE</strong></li><li>sudo sysctl -w vm.max_map_count=262144</li><li>sudo sysctl -w fs.file-max=65536
:::</li></ul></div></div></li></ul><p>Below find an example of a successful output when task definition is properly registered using FARGATE:</p><pre><code>{
    &quot;taskDefinition&quot;: {
        &quot;status&quot;: &quot;ACTIVE&quot;,
        &quot;memory&quot;: &quot;1024&quot;,
        &quot;networkMode&quot;: &quot;awsvpc&quot;,
        &quot;family&quot;: &quot;sage-frontend&quot;,
        &quot;placementConstraints&quot;: [],
        &quot;requiresAttributes&quot;: [
            {
                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.ecr-auth&quot;
            },
            {
                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.task-iam-role&quot;
            },
            {
                &quot;name&quot;: &quot;ecs.capability.execution-role-ecr-pull&quot;
            },
            {
                &quot;name&quot;: &quot;com.amazonaws.ecs.capability.docker-remote-api.1.18&quot;
            },
            {
                &quot;name&quot;: &quot;ecs.capability.task-eni&quot;
            }
        ],
        &quot;cpu&quot;: &quot;512&quot;,
        &quot;executionRoleArn&quot;: &quot;arn:aws:iam::358354085340:role/ecsTaskExecutionRole&quot;,
        &quot;compatibilities&quot;: [
            &quot;FARGATE&quot;,
        ],
        &quot;volumes&quot;: [],
        &quot;requiresCompatibilities&quot;: [
            &quot;FARGATE&quot;
        ],
        &quot;taskRoleArn&quot;: &quot;arn:aws:iam::358354085340:role/ecsTaskExecutionRole&quot;,
        &quot;taskDefinitionArn&quot;: &quot;arn:aws:ecs:us-east-2:358333225340:task-definition/sage-frontend:1&quot;,
        &quot;containerDefinitions&quot;: [
            {
                &quot;environment&quot;: [],
                &quot;name&quot;: &quot;sage-frontend&quot;,
                &quot;mountPoints&quot;: [],
                &quot;image&quot;: &quot;358354085340.dkr.ecr.us-east-2.amazonaws.com/ecstestecr:sage-frontend&quot;,
                &quot;cpu&quot;: 512,
                &quot;portMappings&quot;: [
                    {
                        &quot;protocol&quot;: &quot;tcp&quot;,
                        &quot;containerPort&quot;: 80,
                        &quot;hostPort&quot;: 80
                    }
                ],
                &quot;memory&quot;: 1024,
                &quot;essential&quot;: true,
                &quot;volumesFrom&quot;: []
            }
        ],
        &quot;revision&quot;: 1
    }
}
</code></pre><ul><li><p>If your administrator has chosen the EC2 service, then create ECS EC2 Services</p><ul><li>To create a service with ECS EC2, run simialiar AWS CLI command for each Task Definition previously created. Below is an example using the commondata container. Ensure you use the correct network and cluster values for your environment.</li></ul><pre><code>/usr/local/bin/aws ecs create-service --cluster default-ecs-ec2 --service-name commondata --task-definition commondata-ec2:7 --desired-count 2 --launch-type EC2 --network-configuration &quot;awsvpcConfiguration={subnets=[subnet-xxxxxx5b024557fe5],securityGroups=[ sg-0035ba27e231xxxxxx],assignPublicIp=DISABLED}&quot;
</code></pre></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><strong>IS THIS NECESSARY</strong>
Itâ€™s recommended to run GitLab on EC2 due to recent compatability contingencies.</p></div></div><p>Below you will find an example of a successful output when the Sage-Frontend EC2 Task Definition is properly registered</p><pre><code>{
  &quot;service&quot;: {
      &quot;status&quot;: &quot;ACTIVE&quot;,
      &quot;serviceRegistries&quot;: [],
      &quot;pendingCount&quot;: 0,
      &quot;launchType&quot;: &quot;EC2&quot;,
      &quot;enableECSManagedTags&quot;: false,
      &quot;schedulingStrategy&quot;: &quot;REPLICA&quot;,
      &quot;loadBalancers&quot;: [],
      &quot;placementConstraints&quot;: [],
      &quot;createdAt&quot;: 1607397320.811,
      &quot;desiredCount&quot;: 2,
      &quot;serviceName&quot;: &quot;sage-frontend&quot;,
      &quot;clusterArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:cluster/dev-ec2-ecs&quot;,
      &quot;createdBy&quot;: &quot;arn:aws:iam::358354085340:user/michael.a.schlosser@saic.com&quot;,
      &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/sage-frontend-ec2:1&quot;,
      &quot;serviceArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:service/dev-ec2-ecs/sage-frontend&quot;,
      &quot;propagateTags&quot;: &quot;NONE&quot;,
      &quot;deploymentConfiguration&quot;: {
          &quot;maximumPercent&quot;: 200,
          &quot;minimumHealthyPercent&quot;: 100
      },
      &quot;deployments&quot;: [
          {
              &quot;status&quot;: &quot;PRIMARY&quot;,
              &quot;pendingCount&quot;: 0,
              &quot;launchType&quot;: &quot;EC2&quot;,
              &quot;createdAt&quot;: 1607397320.811,
              &quot;desiredCount&quot;: 2,
              &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/sage-frontend-ec2:1&quot;,
              &quot;updatedAt&quot;: 1607397320.811,
              &quot;id&quot;: &quot;ecs-svc/8272762167026254857&quot;,
              &quot;runningCount&quot;: 0
          }
      ],
      &quot;events&quot;: [],
      &quot;runningCount&quot;: 0,
      &quot;placementStrategy&quot;: []
  }
}

</code></pre><p><strong>IS THERE A STATEMENT OR STEP NEEDED FOR DEPLOYING? WE HAVE THE OUTPUT OF DEPLOYMENT BUT WHAT DEPLOYS IT</strong></p><p>Below you will find an example of a successful output when ECS Service is properly deployed.</p><pre><code>{
    &quot;service&quot;: {
        &quot;serviceArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:service/default-ecs-ec2/commondata&quot;,
        &quot;serviceName&quot;: &quot;commondata&quot;,
        &quot;clusterArn&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:cluster/default-ecs-ec2&quot;,
        &quot;loadBalancers&quot;: [],
        &quot;serviceRegistries&quot;: [],
        &quot;status&quot;: &quot;ACTIVE&quot;,
        &quot;desiredCount&quot;: 2,
        &quot;runningCount&quot;: 0,
        &quot;pendingCount&quot;: 0,
        &quot;launchType&quot;: &quot;EC2&quot;,
        &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/test-commondata-ec2:7&quot;,
        &quot;deploymentConfiguration&quot;: {
            &quot;deploymentCircuitBreaker&quot;: {
                &quot;enable&quot;: false,
                &quot;rollback&quot;: false
            },
            &quot;maximumPercent&quot;: 200,
            &quot;minimumHealthyPercent&quot;: 100
        },
        &quot;deployments&quot;: [
            {
                &quot;id&quot;: &quot;ecs-svc/1675382415882992629&quot;,
                &quot;status&quot;: &quot;PRIMARY&quot;,
                &quot;taskDefinition&quot;: &quot;arn:aws:ecs:us-east-2:358354085340:task-definition/test-commondata-ec2:7&quot;,
                &quot;desiredCount&quot;: 2,
                &quot;pendingCount&quot;: 0,
                &quot;runningCount&quot;: 0,
                &quot;failedTasks&quot;: 0,
                &quot;createdAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,
                &quot;updatedAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,
                &quot;launchType&quot;: &quot;EC2&quot;,
                &quot;networkConfiguration&quot;: {
                    &quot;awsvpcConfiguration&quot;: {
                        &quot;subnets&quot;: [
                            &quot;subnet-05e5075b024557fe5&quot;
                        ],
                        &quot;securityGroups&quot;: [
                            &quot;sg-0035ba27e231bd006&quot;
                        ],
                        &quot;assignPublicIp&quot;: &quot;DISABLED&quot;
                    }
                },
                &quot;rolloutState&quot;: &quot;IN_PROGRESS&quot;,
                &quot;rolloutStateReason&quot;: &quot;ECS deployment ecs-svc/1675382415882992629 in progress.&quot;
            }
        ],
        &quot;roleArn&quot;: &quot;arn:aws:iam::358354085340:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS&quot;,
        &quot;events&quot;: [],
        &quot;createdAt&quot;: &quot;2020-12-11T02:49:20.433000+00:00&quot;,
        &quot;placementConstraints&quot;: [],
        &quot;placementStrategy&quot;: [],
        &quot;networkConfiguration&quot;: {
            &quot;awsvpcConfiguration&quot;: {
                &quot;subnets&quot;: [
                    &quot;subnet-05e5075b024557fe5&quot;
                ],
                &quot;securityGroups&quot;: [
                    &quot;sg-0035ba27e231bd006&quot;
                ],
                &quot;assignPublicIp&quot;: &quot;DISABLED&quot;
            }
        },
        &quot;schedulingStrategy&quot;: &quot;REPLICA&quot;,
        &quot;createdBy&quot;: &quot;arn:aws:iam::358354085340:user/michael.a.schlosser@saic.com&quot;,
        &quot;enableECSManagedTags&quot;: false,
        &quot;propagateTags&quot;: &quot;NONE&quot;
    }
</code></pre><h3 id="managing-sensitive-environment-variables">Managing Sensitive Environment Variables</h3><p><strong>NEED SOME WORDS ABOUT WHAT THIS IS AND WHAT IT&#x27;S DOING. SEEMS LIKE THERE SHOULD BE MORE INFO HERE</strong></p><ol><li>Use System Manager and perform the following:</li></ol><pre><code>{
&quot;containerDefinitions&quot;: [{
  &quot;secrets&quot;: [{
    &quot;name&quot;: &quot;environment_variable_name&quot;,
    &quot;valueFrom&quot;: &quot;arn:aws:ssm:region:aws_account_id:parameter/parameter_name&quot;
  }]
}]
}

</code></pre><p>If you need assistance with sensitve data parameters refer to this <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-parameters.html">AWS Documentation</a>. 2. Use Secrets Manager and perform the following:</p><pre><code>{
&quot;containerDefinitions&quot;: [{
  &quot;secrets&quot;: [{
    &quot;name&quot;: &quot;environment_variable_name&quot;,
    &quot;valueFrom&quot;: &quot;arn:aws:secretsmanager:region:aws_account_id:secret:secret_name-AbCdEf&quot;
    }]
  }]
}
</code></pre><p>If you need assistance with sensitive data secrets, refer to this <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html">AWS Documentation</a>.</p><h2 id="troubleshooting-and-support">Troubleshooting and Support</h2><p>If you experience issues with your installation or need support with your CloudScend Foresight installation, please refer to the <a href="/sage-docs/docs/sage-operations-guide">CloudScend Foresight Operations Guide</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/saic-oss/sage-docs/edit/main/webapp/docs/docs/sage-install-ECS.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#assumptions-for-aws-ecs-installation" class="table-of-contents__link">Assumptions for AWS ECS Installation</a></li><li><a href="#technical-requirements-for-aws-ecs-installation" class="table-of-contents__link">Technical Requirements for AWS ECS Installation</a></li><li><a href="#steps-for-configuring-and-installing-cloudscend-foresight-in-aws-ecs-environment" class="table-of-contents__link">Steps for Configuring and Installing CloudScend Foresight in AWS ECS Environment</a><ul><li><a href="#general-configuration-steps" class="table-of-contents__link">General configuration steps</a></li><li><a href="#configure-your-ecs-cluster-and-install-cloudscend-foresight" class="table-of-contents__link">Configure your ECS Cluster and Install CloudScend Foresight</a></li><li><a href="#managing-sensitive-environment-variables" class="table-of-contents__link">Managing Sensitive Environment Variables</a></li></ul></li><li><a href="#troubleshooting-and-support" class="table-of-contents__link">Troubleshooting and Support</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sage-docs/docs/sage-intro">CloudScend Foresight Users Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/sage-docs/docs/sage-install-intro/">CloudScend Foresight Installation Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/sage-docs/docs/sage-ops-overview/">CloudScend Foresight Operations Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sage-docs/docs/sage-faqs/">FAQs</a></li><li class="footer__item"><a href="https://github.com/saic-oss/sage-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Â© 2021 SAIC</div></div></div></footer></div>
<script src="/sage-docs/styles.fba79791.js"></script>
<script src="/sage-docs/runtime~main.58d835ba.js"></script>
<script src="/sage-docs/main.12c686ef.js"></script>
<script src="/sage-docs/1.31ee3faf.js"></script>
<script src="/sage-docs/36.45e029ce.js"></script>
<script src="/sage-docs/37.9373f5ec.js"></script>
<script src="/sage-docs/935f2afb.d98e3573.js"></script>
<script src="/sage-docs/35.e14f1837.js"></script>
<script src="/sage-docs/bf67934f.365c66fc.js"></script>
</body>
</html>